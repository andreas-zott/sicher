<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sicherheits-Checkliste</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #e6f7ff;
    }
    .container {
      max-width: 1000px;
      margin: auto;
      background: #f0fbff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
    }
    #header-fields {
      display: flex;
      gap: 20px;
      margin-bottom: 10px;
    }
    #header-fields div {
      display: flex;
      flex-direction: column;
    }
    label {
      font-weight: bold;
      margin-bottom: 4px;
    }
    input {
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
      width: 150px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #333;
      padding: 6px;
      vertical-align: top;
    }
    th {
      background-color: #d9f2ff;
    }
    .checkbox {
      width: 20px;
      text-align: center;
    }
    .checkbox input[type="checkbox"] {
      width: 16px;
      height: 16px;
    }
    textarea {
      width: 100%;
      height: 2em;
    }
    .btn {
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 10px;
      width: 100%;
      margin: 20px 0;
      font-size: 1em;
      cursor: pointer;
    }
    .btn.green { background-color: #28a745; }
    .btn.red { background-color: #dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Sicherheits- und Betriebs-Checkliste</h1>

    <div id="header-fields">
      <div>
        <label for="date">Datum</label>
        <input type="text" id="date" readonly />
      </div>
      <div>
        <label for="marktnummer">Marktnummer</label>
        <input type="text" id="marktnummer" placeholder="Eingabe..." />
      </div>
      <div>
        <label for="sifa">Sicherheitsbeauftragter</label>
        <input type="text" id="sifa" placeholder="Eingabe..." />
      </div>
    </div>

    <table id="checklist">
      <thead>
        <tr>
          <th>Nr.</th>
          <th>PrÃ¼ffrage</th>
          <th class="checkbox">Ja</th>
          <th class="checkbox">Nein</th>
          <th>Bemerkung</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <!-- PDF Teilen Button -->
    <button id="sharePdfBtn" class="btn green">ðŸ“¤ PDF teilen / drucken (iPad Safari)</button>

    <!-- Seite neu laden -->
    <button onclick="window.location.reload();" class="btn red">ðŸ”„ Seite neu laden</button>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('date').value = new Date().toLocaleDateString('de-DE');

      const fragen = [
        "Werden Technik- und HeizrÃ¤ume als LagerrÃ¤ume genutzt?",
  "Befindet sich brennbares Material (z.â€¯B. Kisten, Kartons) in den Technik- oder HeizrÃ¤umen?",
  "Sind die Treppen unbeschÃ¤digt und frei von GegenstÃ¤nden?",
  "Sind die Verkehrswege so beschaffen, dass kein Risiko zum Stolpern, Ausrutschen oder Umknicken besteht?",
  "Wird im gesamten Markt geeignetes Schuhwerk getragen (feste, geschlossene, flache Schuhe)?",
  "Sind AutomatiktÃ¼ren, Rolltore und Schnelllauftore geprÃ¼ft und ohne sichtbare BeschÃ¤digungen?",
  "Ist die Aufzugsanlage geprÃ¼ft und in einem ordnungsgemÃ¤ÃŸen Zustand (keine sichtbare BeschÃ¤digung, funktionsfÃ¤hige Schutzeinrichtungen)?",
  "Ist die LeergutrÃ¼cknahme in einem ordnungsgemÃ¤ÃŸen Zustand (intakte Schutzeinrichtungen, gesicherte Einzugsstellen, keine Glasscherben)?",
  "Stehen geeignete Handschuhe fÃ¼r die LeergutrÃ¼cknahme zur VerfÃ¼gung?",
  "Sind Leitern geprÃ¼ft gemÃ¤ÃŸ 'Leitern und Tritte' (BGV D36 bzw. GUV-VD360)?",
  "Ist das Leiter-Kontrollblatt im Ordner Arbeitssicherheit abgelegt?",
  "Werden aus dem Ordersatz geeignete Sicherheitsmesser verwendet?",
  "Sind zur Zeit der Begehung keine sichtbaren BeschÃ¤digungen an Schaltern und Steckdosen vorhanden?",
  "Ist der Gabelhubwagen in einem ordnungsgemÃ¤ÃŸen Zustand ohne sichtbare BeschÃ¤digungen?",
  "Ist der elektrische Hubwagen geprÃ¼ft und in einem ordnungsgemÃ¤ÃŸen Zustand (keine sichtbaren BeschÃ¤digungen, funktionsfÃ¤hige Schutzeinrichtungen)?",
  "Ist der elektrische Hubwagen gegen unbefugte Benutzung gesichert?",
  "Werden Sicherheitsschuhe getragen?",
  "Sind die FeuerlÃ¶scheinrichtungen frei zugÃ¤nglich und nicht blockiert?",
  "Sind die FeuerlÃ¶scheinrichtungen geprÃ¼ft und werden PrÃ¼ffristen eingehalten?",
  "Sind BrandschutztÃ¼ren frei von Zugestellungen und wird ihre Funktion nicht gestÃ¶rt?",
  "Sind TÃ¼rhaltevorrichtungen und SchlieÃŸfolgeregler des Feuerschutzabschlusses in Ordnung?",
  "Sind BrandschutztÃ¼ren ohne BeschÃ¤digungen?",
  "Ist ein aktueller Flucht- und Rettungsplan vorhanden?",
  "Ist die Notausgangsbeleuchtung ohne Defekte?",
  "Sind NotausgÃ¤nge frei zugÃ¤nglich und nicht zugestellt?",
  "Sind NotausgÃ¤nge und -ausstiege von innen ohne fremde Hilfe zu Ã¶ffnen und nicht zugestellt?",
  "FÃ¼hren NotausgÃ¤nge in sichere Bereiche?",
  "Wird passende persÃ¶nliche SchutzausrÃ¼stung fÃ¼r TÃ¤tigkeiten mit Gefahrstoffen (z.B. Schutzbrille, Handschuhe) gestellt?",
  "Sind Betriebsanweisungen gut zugÃ¤nglich?",
  "Werden Sicherheitsanweisungen eingehalten?",
  "Sind die ArbeitsgerÃ¤te an der Backstation (Backofen, Backbleche, Brotschneidemaschine) in einem ordnungsgemÃ¤ÃŸen Zustand?",
  "Sind Elektroleitungen intakt und bilden keine Stolperstellen?",
  "Ist das freistehende Handwaschbecken ohne BeschÃ¤digungen?",
  "Entspricht die Zuleitung der VDE-Norm?",
  "Ist der Backhandschuh fÃ¼r die Backstation in einem ordnungsgemÃ¤ÃŸen Zustand (kein VerschleiÃŸ) und besitzt eine lange Stulpe?",
  "Sind alle HeiÃŸgerÃ¤te (z.B. HeiÃŸtheken, Fritteusen) in technisch einwandfreiem Zustand?",
  "HÃ¤ngt der Hautschutzplan aus?",
  "Werden Hautschutz- und Hautpflegeprodukte zur VerfÃ¼gung gestellt?",
  "Sind die ArbeitsgerÃ¤te im Servicebereich in einem ordnungsgemÃ¤ÃŸen Zustand?",
  "Sind GlastÃ¼ren und GlaswÃ¤nde in AugenhÃ¶he gekennzeichnet?",
  "Werden Schneidbretter und Messer regelmÃ¤ÃŸig gereinigt und farbcodiert verwendet?",
  "Werden Schneidbretter mit Messereinschub verwendet?",
  "Werden Messerhalter verwendet?",
  "Sind Convenience-GerÃ¤te in einem ordnungsgemÃ¤ÃŸen Zustand?",
  "Ist der FuÃŸboden im Kassenbereich ohne sichtbare BeschÃ¤digungen?",
  "Ist der FuÃŸraum frei von GegenstÃ¤nden?",
  "Ist das Transportband unbeschÃ¤digt und weist keine LÃ¼cke von Ã¼ber 5mm auf?",
  "Sind die KassenstÃ¼hle in einem funktionsfÃ¤higen Zustand?",
  "Sind die serienmÃ¤ÃŸig eingebauten HeizgerÃ¤te im Kassenraum nicht durch brennbares Material zugestellt?",
  "Ist in den KÃ¼hlhÃ¤usern an der Beleuchtung die Ãœberglocke vorhanden?",
  "Ist die Notentriegelung an KÃ¼hlhaustÃ¼ren vorhanden und in Ordnung?",
  "Sind die KÃ¼hlhaustÃ¼ren von innen mit dem Rettungswegschild ISO7010 gekennzeichnet?",
  "Funktioniert die Beleuchtung einwandfrei?",
  "Ist die Notruf-Funktion (wenn vorhanden) in Ordnung und ohne BeschÃ¤digungen?",
  "Sind Schwerlastregale geprÃ¼ft?",
  "Ist der Anfahrschutz an den Schwerlastregalen vorhanden?",
  "Ist die Traglastangabe an den Schwerlastregalen vorhanden?",
  "Befindet sich eine Absturzsicherung an der Rampe?",
  "Ist die Absturzsicherung an der Rampe in einem ordnungsgemÃ¤ÃŸen Zustand (keine sichtbaren BeschÃ¤digungen, Kennzeichnung)?",
  "Ist die MÃ¼ll-/Papierpresse geprÃ¼ft?",
  "Ist die MÃ¼ll-/Papierpresse in einem ordnungsgemÃ¤ÃŸen Zustand (keine sichtbaren BeschÃ¤digungen, intakte Schutzeinrichtungen, fester Stand)?",
  "Liegen die aushangpflichtigen Gesetze, UnfallverhÃ¼tungsvorschriften und Brandschutzordnung Teil A im Sozialbereich aus?",
  "Sind Kaffeemaschine und andere hitzeentwickelnde GerÃ¤te auf einer nicht brennbaren Unterlage abgestellt?",
  "Ist der Erste-Hilfe-Koffer gut sichtbar an einer geeigneten Stelle montiert?",
  "Werden ortsverÃ¤nderliche elektrische Betriebsmittel in angemessenen ZeitabstÃ¤nden geprÃ¼ft?",
  "Liegt eine aktuelle Liste sowie PrÃ¼fberichte prÃ¼fungsbedÃ¼rftiger Einrichtungen vor?",
  "Ist der Verbandskasten in einem ordnungsgemÃ¤ÃŸen Zustand?",
  "Wird die Dokumentation Ã¼ber Erste Hilfeleistungen gefÃ¼hrt?",
  "Sind MaÃŸnahmen getroffen, die den Anreiz zu RaubÃ¼berfÃ¤llen vermindern (z.B. TÃ¼rspion, feststehender Knauf)?",
  "Ist die TÃ¼r wÃ¤hrend des Umgangs mit Zahlungsmitteln verschlossen?",
  "Werden neue Mitarbeiter vor Aufnahme der TÃ¤tigkeit zum Thema Arbeitssicherheit und Brandschutz unterwiesen?",
  "Ist wÃ¤hrend der gesamten LadenÃ¶ffnungszeit mindestens ein Mitarbeiter mit der Qualifikation zum Ersthelfer anwesend?",
  "Ist wÃ¤hrend der gesamten LadenÃ¶ffnungszeit mindestens ein Mitarbeiter mit der Qualifikation als Brandschutzhelfer anwesend?",
  "Ist ein Sicherheitsbeauftragter ausgebildet und bestellt?",
  "Wurde die GefÃ¤hrdungsbeurteilung (GBO) erstellt und ist sie auf dem aktuellen Stand?",
  "Wurden Personen, die sich im Bereich von KÃ¼hlanlagen oder KÃ¼hlhÃ¤usern aufhalten, unterwiesen?",
  "Sind die Sensoren nicht mit Material oder sonstigen GegenstÃ¤nden verstellt?",
  "Sind alle Sicherheitsvorrichtungen (Alarmleuchten, Kennzeichnungen, KÃ¼hlhaustÃ¼ren) intakt?",
  "Wurde die Unterweisung von Praktikanten und SchÃ¼leraushilfen durchgefÃ¼hrt?",
  "Haben die Personen die Inhalte der Unterweisung verstanden?",
  "Wurde die Unterweisung schriftlich dokumentiert?",
  "Wird den BeschÃ¤ftigten arbeitsmedizinische Vorsorge angeboten?",
  "Sind MaÃŸnahmen gegen Hauterkrankungen getroffen?",
  "Werden WÃ¼nsche der BeschÃ¤ftigten bei der Arbeitsplanung berÃ¼cksichtigt?",
  "Ist die Pausenregelung umgesetzt?",
  "Ist ein Pausenraum vorhanden?",
  "Werden Ãœberstunden gering gehalten?",
  "Werden regelmÃ¤ÃŸige Teambesprechungen durchgefÃ¼hrt?",
  "Werden neue Mitarbeiter eingearbeitet?",
  "Ist eine Unterweisung zum Thema Band- und Arbeitsschutz erfolgt?",
  "HÃ¤ngt ein schwarzes Brett im Sozialraum oder KassenbÃ¼ro?",
  "Werden Entscheidungen transparent erlÃ¤utert?",
  "Gibt es positive RÃ¼ckmeldungen bei guter Leistung?",
  "Wird konstruktive Kritik geÃ¼bt?",
  "Wurden WeiterbildungsmÃ¶glichkeiten geschaffen bzw angeboten?",
  "Gibt es einen Aushang zur Information Ã¼ber die SuchtprÃ¤vention?",
  "Ist ein betriebliches Wiedereingliederungsmanagement implementiert?",
  "Wird Alleinarbeit vermieden?",
  "Ist die Betreuung nach einem Ãœberfall organisiert?",
  "Werden Schulungen fÃ¼r den Umgang mit gewalttÃ¤tigen Situationen ermÃ¶glicht?"
        // Weitere Fragen nach Bedarf ergÃ¤nzen
      ];

      const tbody = document.querySelector('#checklist tbody');
      fragen.forEach((f, i) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${i + 1}</td>
          <td>${f}</td>
          <td class="checkbox"><input type="checkbox" /></td>
          <td class="checkbox"><input type="checkbox" /></td>
          <td><textarea></textarea></td>`;
        tbody.appendChild(tr);
      });
    });

    document.getElementById('sharePdfBtn').addEventListener('click', async () => {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF('p', 'pt', 'a4');

      await doc.html(document.querySelector('.container'), {
        x: 20,
        y: 20,
        html2canvas: { scale: 0.5 }
      });

      const blob = doc.output('blob');
      const file = new File([blob], 'Sicherheits-Checkliste.pdf', { type: 'application/pdf' });

      if (navigator.canShare && navigator.canShare({ files: [file] })) {
        try {
          await navigator.share({
            files: [file],
            title: 'Sicherheits-Checkliste',
            text: 'Hier ist die generierte Checkliste als PDF.'
          });
        } catch (err) {
          alert('Teilen abgebrochen oder fehlgeschlagen.');
          console.error(err);
        }
      } else {
        alert('Teilen wird auf diesem GerÃ¤t/Browser nicht unterstÃ¼tzt.');
      }
    });
  </script>
</body>
</html>
